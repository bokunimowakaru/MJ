cls:new
1 cls:?"SAKURA IoT
2 ?"±ÅÛ¸Þ Æ­³Ø®¸ A=BTN
3 ?"I2C SDA Îß°Ä IN3
4 ?"I2C SCL Îß°Ä EX1/SCL
5 W=600:?"¿¸Ã² ¶Ý¶¸ W=";W
6 ' CC BY Wataru Kunino
rem https://bokunimo.net/ichigojam/
100 'INIT
110 ifver()<12240goto200
120 poke#700,1,0,1
130 ifi2cr(79,#700,3,#780,4)?"'";:waitW:goto120
140 ifpeek(#782)<>128?".";:waitW:goto120
150 ?"Connected"
200 'DATA
210 A=ana(0):?"ana(0)=";A
220 poke#700,32,10,0,73,A&255,A>>8,0,0,0,0,0,0:N=11:gsb900
300 'SEND
310 rem poke#700,34,0:N=1:gsb900
320 poke#700,36,0:N=1:gsb900
390 led0:waitW:led1:goto100
900 'I2C
910 C=0:forI=0toN
920 C=C^peek(#700+I):next
930 N=N+1:poke#700+N,C:
940 ifi2cw(79,#700,N+1)?"E
950 forI=0toN:?peek(#700+I);
960 ?" ";:next:?
970 rtn
'
' ÀÞ³ÝÛ°ÄÞ ¶ÝØ®³
'
' PC/½ÏÎ Íß°¼Þ
' http://goo.gl/uVSDw5
'
' ¼­³Ø®³ ¼Ã¶× ¼Þ¯º³ ¼Ã ¸ÀÞ»²
' Enter: ÀÞ³ÝÛ°ÄÞ Íß°¼Þ Æ ÓÄÞÙ
inputA:?"MJ GETS git.bokunimo.com/MJ/800.txt"
